D Language File
  CLASS_DECLARATION
    PsiElement(DlangTokenType.class)('class')
    IDENTIFIER
      PsiElement(DlangTokenType.ID)('C')
    DLanguageStructBodyImpl(STRUCT_BODY)
      PsiElement(DlangTokenType.{)('{')
      DLanguageSpecifiedVariableDeclarationImpl(VARIABLE_DECLARATION)
        DLanguageBasicTypeImpl(BASIC_TYPE)
          DLanguageBuiltinTypeImpl(BUILTIN_TYPE)
            PsiElement(DlangTokenType.int)('int')
        IDENTIFIER_INITIALIZER
          IDENTIFIER
            PsiElement(DlangTokenType.ID)('a')
        PsiElement(DlangTokenType.;)(';')
      FUNCTION_DECLARATION
        DLanguageBasicTypeImpl(BASIC_TYPE)
          DLanguageBuiltinTypeImpl(BUILTIN_TYPE)
            PsiElement(DlangTokenType.int)('int')
        IDENTIFIER
          PsiElement(DlangTokenType.ID)('foo')
        DLanguageParametersImpl(PARAMETERS)
          PsiElement(DlangTokenType.()('(')
          PARAMETER
            DLanguageTypeImpl(TYPE)
              DLanguageBasicTypeImpl(BASIC_TYPE)
                DLanguageBuiltinTypeImpl(BUILTIN_TYPE)
                  PsiElement(DlangTokenType.int)('int')
            IDENTIFIER
              PsiElement(DlangTokenType.ID)('i')
          PsiElement(DlangTokenType.))(')')
        DLanguageSpecifiedFunctionBodyImpl(SPECIFIED_FUNCTION_BODY)
          DLanguageBlockStatementImpl(BLOCK_STATEMENT)
            PsiElement(DlangTokenType.{)('{')
            DLanguageReturnStatementImpl(RETURN_STATEMENT)
              PsiElement(DlangTokenType.return)('return')
              DLanguageAddExpressionImpl(ADD_EXPRESSION)
                DLanguageReferenceExpressionImpl(REFERENCE_EXPRESSION)
                  IDENTIFIER
                    PsiElement(DlangTokenType.ID)('i')
                PsiElement(DlangTokenType.+)('+')
                DLanguageReferenceExpressionImpl(REFERENCE_EXPRESSION)
                  IDENTIFIER
                    PsiElement(DlangTokenType.ID)('a')
              PsiElement(DlangTokenType.;)(';')
            PsiElement(DlangTokenType.})('}')
      PsiElement(DlangTokenType.})('}')
  PsiComment(DlangTokenType.LINE_COMMENT)('// mfp is the member function pointer')
  DLanguageAutoDeclarationImpl(AUTO_DECLARATION)
    DLanguageStorageClassImpl(STORAGE_CLASS)
      PsiElement(DlangTokenType.auto)('auto')
    AUTO_ASSIGNMENT
      IDENTIFIER
        PsiElement(DlangTokenType.ID)('mfp')
      PsiElement(DlangTokenType.=)('=')
      DLanguageInitializerImpl(INITIALIZER)
        DLanguageFunctionLiteralExpressionImpl(FUNCTION_LITERAL_EXPRESSION)
          PsiElement(DlangTokenType.function)('function')
          DLanguageParametersImpl(PARAMETERS)
            PsiElement(DlangTokenType.()('(')
            PARAMETER
              DLanguageTypeImpl(TYPE)
                DLanguageBasicTypeImpl(BASIC_TYPE)
                  DLanguageQualifiedIdentifierImpl(QUALIFIED_IDENTIFIER)
                    IDENTIFIER
                      PsiElement(DlangTokenType.ID)('C')
              IDENTIFIER
                PsiElement(DlangTokenType.ID)('self')
            PsiElement(DlangTokenType.,)(',')
            PARAMETER
              DLanguageTypeImpl(TYPE)
                DLanguageBasicTypeImpl(BASIC_TYPE)
                  DLanguageBuiltinTypeImpl(BUILTIN_TYPE)
                    PsiElement(DlangTokenType.int)('int')
              IDENTIFIER
                PsiElement(DlangTokenType.ID)('i')
            PsiElement(DlangTokenType.))(')')
          DLanguageSpecifiedFunctionBodyImpl(SPECIFIED_FUNCTION_BODY)
            DLanguageBlockStatementImpl(BLOCK_STATEMENT)
              PsiElement(DlangTokenType.{)('{')
              DLanguageReturnStatementImpl(RETURN_STATEMENT)
                PsiElement(DlangTokenType.return)('return')
                DLanguageFunctionCallExpressionImpl(FUNCTION_CALL_EXPRESSION)
                  DLanguageReferenceExpressionImpl(REFERENCE_EXPRESSION)
                    DLanguageReferenceExpressionImpl(REFERENCE_EXPRESSION)
                      IDENTIFIER
                        PsiElement(DlangTokenType.ID)('self')
                    PsiElement(DlangTokenType..)('.')
                    IDENTIFIER
                      PsiElement(DlangTokenType.ID)('foo')
                  PsiElement(DlangTokenType.()('(')
                  DLanguageArgumentListImpl(ARGUMENT_LIST)
                    DLanguageReferenceExpressionImpl(REFERENCE_EXPRESSION)
                      IDENTIFIER
                        PsiElement(DlangTokenType.ID)('i')
                  PsiElement(DlangTokenType.))(')')
                PsiElement(DlangTokenType.;)(';')
              PsiElement(DlangTokenType.})('}')
    PsiElement(DlangTokenType.;)(';')
  DLanguageAutoDeclarationImpl(AUTO_DECLARATION)
    DLanguageStorageClassImpl(STORAGE_CLASS)
      PsiElement(DlangTokenType.auto)('auto')
    AUTO_ASSIGNMENT
      IDENTIFIER
        PsiElement(DlangTokenType.ID)('c')
      PsiElement(DlangTokenType.=)('=')
      DLanguageInitializerImpl(INITIALIZER)
        DLanguageNewExpressionImpl(NEW_EXPRESSION)
          PsiElement(DlangTokenType.new)('new')
          DLanguageTypeImpl(TYPE)
            DLanguageBasicTypeImpl(BASIC_TYPE)
              DLanguageQualifiedIdentifierImpl(QUALIFIED_IDENTIFIER)
                IDENTIFIER
                  PsiElement(DlangTokenType.ID)('C')
          DLanguageArgumentsImpl(ARGUMENTS)
            PsiElement(DlangTokenType.()('(')
            PsiElement(DlangTokenType.))(')')
    PsiElement(DlangTokenType.;)(';')
    PsiComment(DlangTokenType.LINE_COMMENT)('// create an instance of C')
  UNITTEST
    PsiElement(DlangTokenType.unittest)('unittest')
    DLanguageUnittestBlockImpl(UNITTEST_BLOCK)
      PsiElement(DlangTokenType.{)('{')
      DLanguageExpressionStatementImpl(EXPRESSION_STATEMENT)
        DLanguageFunctionCallExpressionImpl(FUNCTION_CALL_EXPRESSION)
          DLanguageReferenceExpressionImpl(REFERENCE_EXPRESSION)
            IDENTIFIER
              PsiElement(DlangTokenType.ID)('mfp')
          PsiElement(DlangTokenType.()('(')
          DLanguageArgumentListImpl(ARGUMENT_LIST)
            DLanguageReferenceExpressionImpl(REFERENCE_EXPRESSION)
              IDENTIFIER
                PsiElement(DlangTokenType.ID)('c')
            PsiElement(DlangTokenType.,)(',')
            DLanguageLiteralExpressionImpl(LITERAL_EXPRESSION)
              PsiElement(DlangTokenType.INTEGER_LITERAL)('1')
          PsiElement(DlangTokenType.))(')')
        PsiElement(DlangTokenType.;)(';')
      PsiComment(DlangTokenType.LINE_COMMENT)('// and call c.foo(1)')
      PsiElement(DlangTokenType.})('}')